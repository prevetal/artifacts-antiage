import{g as De,c as ye}from"./app.js";function fe(B,J){for(var V=0;V<J.length;V++){const _=J[V];if(typeof _!="string"&&!Array.isArray(_)){for(const l in _)if(l!=="default"&&!(l in B)){const N=Object.getOwnPropertyDescriptor(_,l);N&&Object.defineProperty(B,l,N.get?N:{enumerable:!0,get:()=>_[l]})}}}return Object.freeze(Object.defineProperty(B,Symbol.toStringTag,{value:"Module"}))}var he={exports:{}};(function(B,J){(function(V,_){B.exports=_()})(ye,function(){return function(){var V={d:function(h,e){for(var t in e)V.o(e,t)&&!V.o(h,t)&&Object.defineProperty(h,t,{enumerable:!0,get:e[t]})},o:function(h,e){return Object.prototype.hasOwnProperty.call(h,e)}},_={};V.d(_,{default:function(){return A}});var l={days:"days",months:"months",years:"years",day:"day",month:"month",year:"year",eventChangeViewDate:"changeViewDate",eventChangeCurrentView:"changeCurrentView",eventChangeFocusDate:"changeFocusDate",eventChangeSelectedDate:"changeSelectedDate",eventChangeTime:"changeTime",eventChangeLastSelectedDate:"changeLastSelectedDate",actionSelectDate:"selectDate",actionUnselectDate:"unselectDate",cssClassWeekend:"-weekend-"},N={classes:"",inline:!1,locale:{days:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],daysShort:["Вос","Пон","Вто","Сре","Чет","Пят","Суб"],daysMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthsShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],today:"Сегодня",clear:"Очистить",dateFormat:"dd.MM.yy",timeFormat:"HH:mm",firstDay:1,selected:"выбрано"},startDate:new Date,firstDay:"",weekends:[6,0],dateFormat:"",altField:"",altFieldDateFormat:"T",toggleSelected:!0,keyboardNav:!0,selectedDates:!1,container:"",isMobile:!1,visible:!1,position:"bottom left",offset:12,view:l.days,minView:l.days,showOtherMonths:!0,selectOtherMonths:!0,moveToOtherMonthsOnSelect:!0,showOtherYears:!0,selectOtherYears:!0,moveToOtherYearsOnSelect:!0,minDate:"",maxDate:"",disableNavWhenOutOfRange:!0,multipleDates:!1,multipleDatesSeparator:", ",range:!1,dynamicRange:!0,buttons:!1,monthsField:"monthsShort",showEvent:"focus",autoClose:!1,prevHtml:'<svg><path d="M 17,12 l -5,5 l 5,5"></path></svg>',nextHtml:'<svg><path d="M 14,12 l 5,5 l -5,5"></path></svg>',navTitles:{days:"MMMM, <i>yyyy</i>",months:"yyyy",years:"yyyy1 - yyyy2"},timepicker:!1,onlyTimepicker:!1,dateTimeSeparator:" ",timeFormat:"",minHours:0,maxHours:24,minMinutes:0,maxMinutes:59,hoursStep:1,minutesStep:1,onSelect:!1,onChangeViewDate:!1,onChangeView:!1,onRenderCell:!1,onShow:!1,onHide:!1,onClickDayName:!1};function f(h){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:document;return typeof h=="string"?e.querySelector(h):h}function b(){let{tagName:h="div",className:e="",innerHtml:t="",id:i="",attrs:s={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=document.createElement(h);if(e&&a.classList.add(...e.split(" ")),i&&(a.id=i),t&&(a.innerHTML=t),s)for(let o in s)a.setAttribute(o,s[o]);return a}function Z(h,e){for(let[t,i]of Object.entries(e))h.setAttribute(t,i);return h}function ee(h){return new Date(h.getFullYear(),h.getMonth()+1,0).getDate()}function v(h){let e=h.getHours(),t=e%12==0?12:e%12;return{year:h.getFullYear(),month:h.getMonth(),fullMonth:h.getMonth()+1<10?"0"+(h.getMonth()+1):h.getMonth()+1,date:h.getDate(),fullDate:h.getDate()<10?"0"+h.getDate():h.getDate(),day:h.getDay(),hours:e,fullHours:I(e),hours12:t,fullHours12:I(t),minutes:h.getMinutes(),fullMinutes:h.getMinutes()<10?"0"+h.getMinutes():h.getMinutes()}}function I(h){return h<10?"0"+h:h}function x(h){let e=10*Math.floor(h.getFullYear()/10);return[e,e+9]}function S(){let h=[];for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.forEach(s=>{if(typeof s=="object")for(let a in s)s[a]&&h.push(a);else s&&h.push(s)}),h.join(" ")}function y(h,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l.days;if(!h||!e)return!1;let i=v(h),s=v(e);return{[l.days]:i.date===s.date&&i.month===s.month&&i.year===s.year,[l.months]:i.month===s.month&&i.year===s.year,[l.years]:i.year===s.year}[t]}function T(h,e,t){let i=G(h,!1).getTime(),s=G(e,!1).getTime();return t?i>=s:i>s}function P(h,e){return!T(h,e,!0)}function G(h){let e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=new Date(h.getTime());return typeof e!="boolean"||e||function(i){i.setHours(0,0,0,0)}(t),t}function w(h,e,t){h.length?h.forEach(i=>{i.addEventListener(e,t)}):h.addEventListener(e,t)}function K(h,e){return!(!h||h===document||h instanceof DocumentFragment)&&(h.matches(e)?h:K(h.parentNode,e))}function j(h,e,t){return h>t?t:h<e?e:h}function z(h){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];return t.filter(s=>s).forEach(s=>{for(let[a,o]of Object.entries(s))if(o!==void 0&&o.toString()==="[object Object]"){let n=h[a]!==void 0?h[a].toString():void 0,r=o.toString(),d=Array.isArray(o)?[]:{};h[a]=h[a]?n!==r?d:h[a]:d,z(h[a],o)}else h[a]=o}),h}function k(h){let e=h;return h instanceof Date||(e=new Date(h)),isNaN(e.getTime())&&(console.log(`Unable to convert value "${h}" to Date object`),e=!1),e}function X(h){let e="\\s|\\.|-|/|\\\\|,|\\$|\\!|\\?|:|;";return new RegExp("(^|>|"+e+")("+h+")($|<|"+e+")","g")}function E(h,e,t){return(e=function(i){var s=function(a,o){if(typeof a!="object"||a===null)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var r=n.call(a,"string");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(i);return typeof s=="symbol"?s:String(s)}(e))in h?Object.defineProperty(h,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):h[e]=t,h}class le{constructor(){let{type:e,date:t,dp:i,opts:s,body:a}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};E(this,"focus",()=>{this.$cell.classList.add("-focus-"),this.focused=!0,this.dp.$el.setAttribute("aria-activedescendant",this.$cell.getAttribute("id"))}),E(this,"removeFocus",()=>{this.$cell.classList.remove("-focus-"),this.focused=!1}),E(this,"select",()=>{var o;this.$cell.classList.add("-selected-"),this.selected=!0,this.$cell.setAttribute("aria-label",this.$cell.getAttribute("data-aria-label")+`, ${((o=this.dp.locale)==null?void 0:o.selected)||"selected"}`)}),E(this,"removeSelect",()=>{this.$cell.classList.remove("-selected-","-range-from-","-range-to-"),this.selected=!1,this.$cell.setAttribute("aria-label",this.$cell.getAttribute("data-aria-label"))}),E(this,"onChangeSelectedDate",()=>{this.isDisabled||(this._handleSelectedStatus(),this.opts.range&&this._handleRangeStatus())}),E(this,"onChangeFocusDate",o=>{if(!o)return void(this.focused&&this.removeFocus());let n=y(o,this.date,this.type);n?this.focus():!n&&this.focused&&this.removeFocus(),this.opts.range&&this._handleRangeStatus()}),E(this,"render",()=>(this.$cell.innerHTML=this._getHtml(),this.$cell.adpCell=this,this.$cell)),this.type=e,this.singleType=this.type.slice(0,-1),this.date=t,this.dp=i,this.opts=s,this.body=a,this.customData=!1,this.init()}init(){let{range:e,onRenderCell:t}=this.opts;t&&(this.customData=t({date:this.date,cellType:this.singleType,datepicker:this.dp})),this._createElement(),this._bindDatepickerEvents(),this._handleInitialFocusStatus(),this.dp.hasSelectedDates&&(this._handleSelectedStatus(),e&&this._handleRangeStatus())}_bindDatepickerEvents(){this.dp.on(l.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(l.eventChangeFocusDate,this.onChangeFocusDate)}unbindDatepickerEvents(){this.dp.off(l.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(l.eventChangeFocusDate,this.onChangeFocusDate)}_createElement(){var n;let{year:e,month:t,date:i}=v(this.date),s="EEEE, MMMM d, yyyy",a=((n=this.customData)==null?void 0:n.attrs)||{};this.singleType==="month"?s="MMMM":this.singleType==="year"&&(s="yyyy");const o=this.dp.formatDate(this.date,s);this.$cell=b({className:this._getClassName(),attrs:{"data-year":e,"data-month":t,"data-date":i,"aria-label":o,"data-aria-label":o,id:this.date.getTime(),role:"button","aria-disabled":this.singleType==="day"&&!this.dp._checkIfDateIsAvailable(this.date),...a}})}_getClassName(){var u,D;let e=new Date,{selectOtherMonths:t,selectOtherYears:i}=this.opts,{minDate:s,maxDate:a}=this.dp,{day:o}=v(this.date),n=this._isOutOfMinMaxRange(),r=(u=this.customData)==null?void 0:u.disabled,d=S("air-datepicker-cell",`-${this.singleType}-`,{"-current-":y(e,this.date,this.type),"-min-date-":s&&y(s,this.date,this.type),"-max-date-":a&&y(a,this.date,this.type)}),c="";switch(this.type){case l.days:c=S({"-weekend-":this.dp.isWeekend(o),"-other-month-":this.isOtherMonth,"-disabled-":this.isOtherMonth&&!t||n||r||!this.dp._checkIfDateIsAvailable(this.date)});break;case l.months:c=S({"-disabled-":n||r});break;case l.years:c=S({"-other-decade-":this.isOtherDecade,"-disabled-":n||this.isOtherDecade&&!i||r})}return S(d,c,(D=this.customData)==null?void 0:D.classes)}_getHtml(){var o;let{year:e,month:t,date:i}=v(this.date),{showOtherMonths:s,showOtherYears:a}=this.opts;if((o=this.customData)!=null&&o.html)return this.customData.html;switch(this.type){case l.days:return!s&&this.isOtherMonth?"":i;case l.months:return this.dp.locale[this.opts.monthsField][t];case l.years:return!a&&this.isOtherDecade?"":e}}_isOutOfMinMaxRange(){let{minDate:e,maxDate:t}=this.dp,{type:i,date:s}=this,{month:a,year:o,date:n}=v(s),r=i===l.days,d=i===l.years,c=!!e&&new Date(o,d?e.getMonth():a,r?n:e.getDate()),u=!!t&&new Date(o,d?t.getMonth():a,r?n:t.getDate());return e&&t?P(c,e)||T(u,t):e?P(c,e):t?T(u,t):void 0}destroy(){this.unbindDatepickerEvents()}_handleRangeStatus(){var n;let{rangeDateFrom:e,rangeDateTo:t}=this.dp,i=S({"-in-range-":e&&t&&(s=this.date,a=e,o=t,T(s,a)&&P(s,o)),"-range-from-":e&&y(this.date,e,this.type),"-range-to-":t&&y(this.date,t,this.type)});var s,a,o;this.$cell.classList.remove("-range-from-","-range-to-","-in-range-"),i&&this.$cell.classList.add(...i.split(" ")),this.$cell.classList.contains("-in-range-")&&this.$cell.setAttribute("aria-label",this.$cell.getAttribute("data-aria-label")+`, ${((n=this.dp.locale)==null?void 0:n.selected)||"selected"}`)}_handleSelectedStatus(){let e=this.dp._checkIfDateIsSelected(this.date,this.type);e?this.select():!e&&this.selected&&this.removeSelect()}_handleInitialFocusStatus(){y(this.dp.focusDate,this.date,this.type)&&this.focus()}get isDisabled(){return this.$cell.matches(".-disabled-")}get isOtherMonth(){return this.dp.isOtherMonth(this.date)}get isOtherDecade(){return this.dp.isOtherDecade(this.date)}}function $(h,e,t){return(e=function(i){var s=function(a,o){if(typeof a!="object"||a===null)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var r=n.call(a,"string");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(i);return typeof s=="symbol"?s:String(s)}(e))in h?Object.defineProperty(h,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):h[e]=t,h}let de={[l.days]:`<div class="air-datepicker-body--day-names"></div><div class="air-datepicker-body--cells -${l.days}-"></div>`,[l.months]:`<div class="air-datepicker-body--cells -${l.months}-"></div>`,[l.years]:`<div class="air-datepicker-body--cells -${l.years}-"></div>`};class te{constructor(e){let{dp:t,type:i,opts:s}=e;$(this,"handleClick",a=>{let o=a.target.adpCell;if(o.isDisabled)return;if(!this.dp.isMinViewReached)return void this.dp.down();let n=this.dp._checkIfDateIsSelected(o.date,o.type);n?this.dp._handleAlreadySelectedDates(n,o.date):this.dp.selectDate(o.date)}),$(this,"handleDayNameClick",a=>{let o=a.target.getAttribute("data-day-index");this.opts.onClickDayName({dayIndex:Number(o),datepicker:this.dp})}),$(this,"onChangeCurrentView",a=>{a!==this.type?this.hide():(this.show(),this.render())}),$(this,"onMouseOverCell",a=>{let o=K(a.target,".air-datepicker-cell");this.dp.setFocusDate(!!o&&o.adpCell.date)}),$(this,"onMouseOutCell",()=>{this.dp.setFocusDate(!1)}),$(this,"onClickBody",a=>{let{onClickDayName:o}=this.opts,n=a.target;n.closest(".air-datepicker-cell")&&this.handleClick(a),o&&n.closest(".air-datepicker-body--day-name")&&this.handleDayNameClick(a)}),$(this,"onMouseDown",a=>{this.pressed=!0;let o=K(a.target,".air-datepicker-cell"),n=o&&o.adpCell;y(n.date,this.dp.rangeDateFrom)&&(this.rangeFromFocused=!0),y(n.date,this.dp.rangeDateTo)&&(this.rangeToFocused=!0)}),$(this,"onMouseMove",a=>{if(!this.pressed||!this.dp.isMinViewReached)return;a.preventDefault();let o=K(a.target,".air-datepicker-cell"),n=o&&o.adpCell,{selectedDates:r,rangeDateTo:d,rangeDateFrom:c}=this.dp;if(!n||n.isDisabled)return;let{date:u}=n;if(r.length===2){if(this.rangeFromFocused&&!T(u,d)){let{hours:D,minutes:p}=v(c);u.setHours(D),u.setMinutes(p),this.dp.rangeDateFrom=u,this.dp.replaceDate(c,u)}if(this.rangeToFocused&&!P(u,c)){let{hours:D,minutes:p}=v(d);u.setHours(D),u.setMinutes(p),this.dp.rangeDateTo=u,this.dp.replaceDate(d,u)}}}),$(this,"onMouseUp",()=>{this.pressed=!1,this.rangeFromFocused=!1,this.rangeToFocused=!1}),$(this,"onChangeViewDate",(a,o)=>{if(!this.isVisible)return;let n=x(a),r=x(o);switch(this.dp.currentView){case l.days:if(y(a,o,l.months))return;break;case l.months:if(y(a,o,l.years))return;break;case l.years:if(n[0]===r[0]&&n[1]===r[1])return}this.render()}),$(this,"render",()=>{this.destroyCells(),this._generateCells(),this.cells.forEach(a=>{this.$cells.appendChild(a.render())})}),this.dp=t,this.type=i,this.opts=s,this.cells=[],this.$el="",this.pressed=!1,this.isVisible=!0,this.init()}init(){this.dp.setFocusDate(!1),this._buildBaseHtml(),this.type===l.days&&this.renderDayNames(),this.render(),this._bindEvents(),this._bindDatepickerEvents()}_bindEvents(){let{range:e,dynamicRange:t}=this.opts;w(this.$el,"mouseover",this.onMouseOverCell),w(this.$el,"mouseout",this.onMouseOutCell),w(this.$el,"click",this.onClickBody),e&&t&&(w(this.$el,"mousedown",this.onMouseDown),w(this.$el,"mousemove",this.onMouseMove),w(window.document,"mouseup",this.onMouseUp))}_bindDatepickerEvents(){this.dp.on(l.eventChangeViewDate,this.onChangeViewDate),this.dp.on(l.eventChangeCurrentView,this.onChangeCurrentView)}_buildBaseHtml(){this.$el=b({className:`air-datepicker-body -${this.type}-`,innerHtml:de[this.type]}),this.$names=f(".air-datepicker-body--day-names",this.$el),this.$cells=f(".air-datepicker-body--cells",this.$el)}_getDayNamesHtml(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.dp.locale.firstDay,t="",i=this.dp.isWeekend,{onClickDayName:s}=this.opts,a=e,o=0;for(;o<7;){let n=a%7;t+=`<div class="${S("air-datepicker-body--day-name",{[l.cssClassWeekend]:i(n),"-clickable-":!!s})}" data-day-index='${n}'>${this.dp.locale.daysMin[n]}</div>`,o++,a++}return t}_getDaysCells(){let{viewDate:e,locale:{firstDay:t}}=this.dp,i=ee(e),{year:s,month:a}=v(e),o=new Date(s,a,1),n=new Date(s,a,i),r=o.getDay()-t,d=6-n.getDay()+t;r=r<0?r+7:r,d=d>6?d-7:d;let c=function(M,q){let{year:U,month:Y,date:R}=v(M);return new Date(U,Y,R-q)}(o,r),u=i+r+d,D=c.getDate(),{year:p,month:g}=v(c),C=0;for(;C<u;){let M=new Date(p,g,D+C);this._generateCell(M),C++}}_generateCell(e){let{type:t,dp:i,opts:s}=this,a=new le({type:t,dp:i,opts:s,date:e,body:this});return this.cells.push(a),a}_generateDayCells(){this._getDaysCells()}_generateMonthCells(){let{year:e}=this.dp.parsedViewDate,t=0;for(;t<12;)this.cells.push(this._generateCell(new Date(e,t))),t++}_generateYearCells(){let e=x(this.dp.viewDate),t=e[0]-1,i=e[1]+1,s=t;for(;s<=i;)this.cells.push(this._generateCell(new Date(s,0))),s++}renderDayNames(){this.$names.innerHTML=this._getDayNamesHtml()}_generateCells(){switch(this.type){case l.days:this._generateDayCells();break;case l.months:this._generateMonthCells();break;case l.years:this._generateYearCells()}}show(){this.isVisible=!0,this.$el.classList.remove("-hidden-")}hide(){this.isVisible=!1,this.$el.classList.add("-hidden-")}destroyCells(){this.cells.forEach(e=>e.destroy()),this.cells=[],this.$cells.innerHTML=""}destroy(){this.destroyCells(),this.dp.off(l.eventChangeViewDate,this.onChangeViewDate),this.dp.off(l.eventChangeCurrentView,this.onChangeCurrentView),this.dp.$el.removeAttribute("aria-activedescendant")}}function O(h,e,t){return(e=function(i){var s=function(a,o){if(typeof a!="object"||a===null)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var r=n.call(a,"string");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(i);return typeof s=="symbol"?s:String(s)}(e))in h?Object.defineProperty(h,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):h[e]=t,h}class ce{constructor(e){let{dp:t,opts:i}=e;O(this,"onClickNav",s=>{let a=K(s.target,".air-datepicker-nav--action");if(!a)return;let o=a.dataset.action;this.dp[o]()}),O(this,"onChangeViewDate",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),O(this,"onChangeCurrentView",()=>{this.render(),this._resetNavStatus(),this.handleNavStatus()}),O(this,"onClickNavTitle",()=>{this.dp.isFinalView||this.dp.up()}),O(this,"update",()=>{let{prevHtml:s,nextHtml:a}=this.opts;this.$prev.innerHTML=s,this.$next.innerHTML=a,this._resetNavStatus(),this.render(),this.handleNavStatus()}),O(this,"renderDelay",()=>{setTimeout(this.render)}),O(this,"render",()=>{this.$title.innerHTML=this._getTitle(),function(s,a){for(let o in a)a[o]?s.classList.add(o):s.classList.remove(o)}(this.$title,{"-disabled-":this.dp.isFinalView})}),this.dp=t,this.opts=i,this.init()}init(){this._createElement(),this._buildBaseHtml(),this._defineDOM(),this.render(),this.handleNavStatus(),this._bindEvents(),this._bindDatepickerEvents()}_defineDOM(){this.$title=f(".air-datepicker-nav--title",this.$el),this.$prev=f('[data-action="prev"]',this.$el),this.$next=f('[data-action="next"]',this.$el)}_bindEvents(){this.$el.addEventListener("click",this.onClickNav),this.$title.addEventListener("click",this.onClickNavTitle)}_bindDatepickerEvents(){this.dp.on(l.eventChangeViewDate,this.onChangeViewDate),this.dp.on(l.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.on(l.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.on(l.eventChangeTime,this.render))}destroy(){this.dp.off(l.eventChangeViewDate,this.onChangeViewDate),this.dp.off(l.eventChangeCurrentView,this.onChangeCurrentView),this.isNavIsFunction&&(this.dp.off(l.eventChangeSelectedDate,this.renderDelay),this.dp.opts.timepicker&&this.dp.off(l.eventChangeTime,this.render))}_createElement(){this.$el=b({tagName:"nav",className:"air-datepicker-nav"})}_getTitle(){let{dp:e,opts:t}=this,i=t.navTitles[e.currentView];return typeof i=="function"?i(e):e.formatDate(e.viewDate,i)}handleNavStatus(){let{disableNavWhenOutOfRange:e}=this.opts,{minDate:t,maxDate:i}=this.dp;if(!t&&!i||!e)return;let{year:s,month:a}=this.dp.parsedViewDate,o=!!t&&v(t),n=!!i&&v(i);switch(this.dp.currentView){case l.days:t&&o.month>=a&&o.year>=s&&this._disableNav("prev"),i&&n.month<=a&&n.year<=s&&this._disableNav("next");break;case l.months:t&&o.year>=s&&this._disableNav("prev"),i&&n.year<=s&&this._disableNav("next");break;case l.years:{let r=x(this.dp.viewDate);t&&o.year>=r[0]&&this._disableNav("prev"),i&&n.year<=r[1]&&this._disableNav("next");break}}}_disableNav(e){f('[data-action="'+e+'"]',this.$el).classList.add("-disabled-")}_resetNavStatus(){(function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];e.length?e.forEach(a=>{a.classList.remove(...i)}):e.classList.remove(...i)})(this.$el.querySelectorAll(".air-datepicker-nav--action"),"-disabled-")}_buildBaseHtml(){let{prevHtml:e,nextHtml:t}=this.opts;this.$el.innerHTML=`<div class="air-datepicker-nav--action" data-action="prev">${e}</div><div class="air-datepicker-nav--title"></div><div class="air-datepicker-nav--action" data-action="next">${t}</div>`}get isNavIsFunction(){let{navTitles:e}=this.opts;return Object.keys(e).find(t=>typeof e[t]=="function")}}var ie={today:{content:h=>h.locale.today,onClick:h=>h.setViewDate(new Date)},clear:{content:h=>h.locale.clear,onClick:h=>h.clear()}};class ue{constructor(e){let{dp:t,opts:i}=e;this.dp=t,this.opts=i,this.init()}init(){this.createElement(),this.render()}createElement(){this.$el=b({className:"air-datepicker-buttons"})}destroy(){this.$el.parentNode.removeChild(this.$el)}clearHtml(){return this.$el.innerHTML="",this}generateButtons(){let{buttons:e}=this.opts;Array.isArray(e)||(e=[e]),e.forEach(t=>{let i=t;typeof t=="string"&&ie[t]&&(i=ie[t]);let s=this.createButton(i);i.onClick&&this.attachEventToButton(s,i.onClick),this.$el.appendChild(s)})}attachEventToButton(e,t){e.addEventListener("click",()=>{t(this.dp)})}createButton(e){let{content:t,className:i,tagName:s="button",attrs:a={}}=e;return b({tagName:s,innerHtml:`<span tabindex='-1'>${typeof t=="function"?t(this.dp):t}</span>`,className:S("air-datepicker-button",i),attrs:a})}render(){this.generateButtons()}}function H(h,e,t){return(e=function(i){var s=function(a,o){if(typeof a!="object"||a===null)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var r=n.call(a,"string");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(i);return typeof s=="symbol"?s:String(s)}(e))in h?Object.defineProperty(h,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):h[e]=t,h}class pe{constructor(){let{opts:e,dp:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};H(this,"toggleTimepickerIsActive",s=>{this.dp.timepickerIsActive=s}),H(this,"onChangeSelectedDate",s=>{let{date:a,updateTime:o=!1}=s;a&&(this.setMinMaxTime(a),this.setCurrentTime(!!o&&a),this.addTimeToDate(a))}),H(this,"onChangeLastSelectedDate",s=>{s&&(this.setTime(s),this.render())}),H(this,"onChangeInputRange",s=>{let a=s.target;this[a.getAttribute("name")]=a.value,this.updateText(),this.dp.trigger(l.eventChangeTime,{hours:this.hours,minutes:this.minutes})}),H(this,"onMouseEnterLeave",s=>{let a=s.target.getAttribute("name"),o=this.$minutesText;a==="hours"&&(o=this.$hoursText),o.classList.toggle("-focus-")}),H(this,"onFocus",()=>{this.toggleTimepickerIsActive(!0)}),H(this,"onBlur",()=>{this.toggleTimepickerIsActive(!1)}),this.opts=e,this.dp=t;let{timeFormat:i}=this.dp.locale;i&&(i.match(X("h"))||i.match(X("hh")))&&(this.ampm=!0),this.init()}init(){this.setTime(this.dp.lastSelectedDate||this.dp.viewDate),this.createElement(),this.buildHtml(),this.defineDOM(),this.render(),this.bindDatepickerEvents(),this.bindDOMEvents()}bindDatepickerEvents(){this.dp.on(l.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.on(l.eventChangeLastSelectedDate,this.onChangeLastSelectedDate)}bindDOMEvents(){let e="input";navigator.userAgent.match(/trident/gi)&&(e="change"),w(this.$ranges,e,this.onChangeInputRange),w(this.$ranges,"mouseenter",this.onMouseEnterLeave),w(this.$ranges,"mouseleave",this.onMouseEnterLeave),w(this.$ranges,"focus",this.onFocus),w(this.$ranges,"mousedown",this.onFocus),w(this.$ranges,"blur",this.onBlur)}createElement(){this.$el=b({className:S("air-datepicker-time",{"-am-pm-":this.dp.ampm})})}destroy(){this.dp.off(l.eventChangeSelectedDate,this.onChangeSelectedDate),this.dp.off(l.eventChangeLastSelectedDate,this.onChangeLastSelectedDate),this.$el.parentNode.removeChild(this.$el)}buildHtml(){let{ampm:e,hours:t,displayHours:i,minutes:s,minHours:a,minMinutes:o,maxHours:n,maxMinutes:r,dayPeriod:d,opts:{hoursStep:c,minutesStep:u}}=this;this.$el.innerHTML=`<div class="air-datepicker-time--current">   <span class="air-datepicker-time--current-hours">${I(i)}</span>   <span class="air-datepicker-time--current-colon">:</span>   <span class="air-datepicker-time--current-minutes">${I(s)}</span>   `+(e?`<span class='air-datepicker-time--current-ampm'>${d}</span>`:"")+`</div><div class="air-datepicker-time--sliders">   <div class="air-datepicker-time--row">      <input type="range" name="hours" value="${t}" min="${a}" max="${n}" step="${c}"/>   </div>   <div class="air-datepicker-time--row">      <input type="range" name="minutes" value="${s}" min="${o}" max="${r}" step="${u}"/>   </div></div>`}defineDOM(){let e=t=>f(t,this.$el);this.$ranges=this.$el.querySelectorAll('[type="range"]'),this.$hours=e('[name="hours"]'),this.$minutes=e('[name="minutes"]'),this.$hoursText=e(".air-datepicker-time--current-hours"),this.$minutesText=e(".air-datepicker-time--current-minutes"),this.$ampm=e(".air-datepicker-time--current-ampm")}setTime(e){this.setMinMaxTime(e),this.setCurrentTime(e)}addTimeToDate(e){e&&(e.setHours(this.hours),e.setMinutes(this.minutes))}setMinMaxTime(e){if(this.setMinMaxTimeFromOptions(),e){let{minDate:t,maxDate:i}=this.dp;t&&y(e,t)&&this.setMinTimeFromMinDate(t),i&&y(e,i)&&this.setMaxTimeFromMaxDate(i)}}setCurrentTime(e){let{hours:t,minutes:i}=e?v(e):this;this.hours=j(t,this.minHours,this.maxHours),this.minutes=j(i,this.minMinutes,this.maxMinutes)}setMinMaxTimeFromOptions(){let{minHours:e,minMinutes:t,maxHours:i,maxMinutes:s}=this.opts;this.minHours=j(e,0,23),this.minMinutes=j(t,0,59),this.maxHours=j(i,0,23),this.maxMinutes=j(s,0,59)}setMinTimeFromMinDate(e){let{lastSelectedDate:t}=this.dp;this.minHours=e.getHours(),t&&t.getHours()>e.getHours()?this.minMinutes=this.opts.minMinutes:this.minMinutes=e.getMinutes()}setMaxTimeFromMaxDate(e){let{lastSelectedDate:t}=this.dp;this.maxHours=e.getHours(),t&&t.getHours()<e.getHours()?this.maxMinutes=this.opts.maxMinutes:this.maxMinutes=e.getMinutes()}getDayPeriod(e,t){let i=e,s=Number(e);e instanceof Date&&(i=v(e),s=Number(i.hours));let a="am";if(t||this.ampm){switch(!0){case s===12:case s>11:a="pm"}s=s%12==0?12:s%12}return{hours:s,dayPeriod:a}}updateSliders(){Z(this.$hours,{min:this.minHours,max:this.maxHours}).value=this.hours,Z(this.$minutes,{min:this.minMinutes,max:this.maxMinutes}).value=this.minutes}updateText(){this.$hoursText.innerHTML=I(this.displayHours),this.$minutesText.innerHTML=I(this.minutes),this.ampm&&(this.$ampm.innerHTML=this.dayPeriod)}set hours(e){this._hours=e;let{hours:t,dayPeriod:i}=this.getDayPeriod(e);this.displayHours=t,this.dayPeriod=i}get hours(){return this._hours}render(){this.updateSliders(),this.updateText()}}function L(h,e,t){return(e=function(i){var s=function(a,o){if(typeof a!="object"||a===null)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var r=n.call(a,"string");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(i);return typeof s=="symbol"?s:String(s)}(e))in h?Object.defineProperty(h,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):h[e]=t,h}class me{constructor(e){let{dp:t,opts:i}=e;L(this,"pressedKeys",new Set),L(this,"hotKeys",new Map([[[["Control","ArrowRight"],["Control","ArrowUp"]],s=>s.month++],[[["Control","ArrowLeft"],["Control","ArrowDown"]],s=>s.month--],[[["Shift","ArrowRight"],["Shift","ArrowUp"]],s=>s.year++],[[["Shift","ArrowLeft"],["Shift","ArrowDown"]],s=>s.year--],[[["Alt","ArrowRight"],["Alt","ArrowUp"]],s=>s.year+=10],[[["Alt","ArrowLeft"],["Alt","ArrowDown"]],s=>s.year-=10],[["Control","Shift","ArrowUp"],(s,a)=>a.up()]])),L(this,"handleHotKey",s=>{let a=this.hotKeys.get(s),o=v(this.getInitialFocusDate());a(o,this.dp);let{year:n,month:r,date:d}=o,c=ee(new Date(n,r));c<d&&(d=c);let u=this.dp.getClampedDate(new Date(n,r,d));this.dp.setFocusDate(u,{viewDateTransition:!0})}),L(this,"isHotKeyPressed",()=>{let s=!1,a=this.pressedKeys.size,o=n=>this.pressedKeys.has(n);for(let[n]of this.hotKeys){if(s)break;if(Array.isArray(n[0]))n.forEach(r=>{s||a!==r.length||(s=r.every(o)&&n)});else{if(a!==n.length)continue;s=n.every(o)&&n}}return s}),L(this,"isArrow",s=>s>=37&&s<=40),L(this,"onKeyDown",s=>{let{key:a,which:o}=s,{dp:n,dp:{focusDate:r},opts:d}=this;this.registerKey(a);let c=this.isHotKeyPressed();if(c)return s.preventDefault(),void this.handleHotKey(c);if(this.isArrow(o))return s.preventDefault(),void this.focusNextCell(a);if(a==="Enter"){if(n.currentView!==d.minView)return void n.down();if(r){let u=n._checkIfDateIsSelected(r);return n._checkIfDateIsAvailable(r)?void(u?n._handleAlreadySelectedDates(u,r):n.selectDate(r)):void 0}}a==="Escape"&&this.dp.hide()}),L(this,"onKeyUp",s=>{this.removeKey(s.key)}),this.dp=t,this.opts=i,this.init()}init(){this.bindKeyboardEvents()}bindKeyboardEvents(){let{$el:e}=this.dp;e.addEventListener("keydown",this.onKeyDown),e.addEventListener("keyup",this.onKeyUp)}destroy(){let{$el:e}=this.dp;e.removeEventListener("keydown",this.onKeyDown),e.removeEventListener("keyup",this.onKeyUp),this.hotKeys=null,this.pressedKeys=null}getInitialFocusDate(){let{focusDate:e,currentView:t,selectedDates:i,parsedViewDate:{year:s,month:a}}=this.dp,o=e||i[i.length-1];if(!o)switch(t){case l.days:o=new Date(s,a,new Date().getDate());break;case l.months:o=new Date(s,a,1);break;case l.years:o=new Date(s,0,1)}return o}focusNextCell(e){let t=this.getInitialFocusDate(),{currentView:i}=this.dp,{days:s,months:a,years:o}=l,n=v(t),r=n.year,d=n.month,c=n.date;switch(e){case"ArrowLeft":i===s&&(c-=1),i===a&&(d-=1),i===o&&(r-=1);break;case"ArrowUp":i===s&&(c-=7),i===a&&(d-=3),i===o&&(r-=4);break;case"ArrowRight":i===s&&(c+=1),i===a&&(d+=1),i===o&&(r+=1);break;case"ArrowDown":i===s&&(c+=7),i===a&&(d+=3),i===o&&(r+=4)}let u=this.dp.getClampedDate(new Date(r,d,c));this.dp.setFocusDate(u,{viewDateTransition:!0})}registerKey(e){this.pressedKeys.add(e)}removeKey(e){this.pressedKeys.delete(e)}}let ge={on(h,e){this.__events||(this.__events={}),this.__events[h]?this.__events[h].push(e):this.__events[h]=[e]},off(h,e){this.__events&&this.__events[h]&&(this.__events[h]=this.__events[h].filter(t=>t!==e))},removeAllEvents(){this.__events={}},trigger(h){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];this.__events&&this.__events[h]&&this.__events[h].forEach(s=>{s(...t)})}};function m(h,e,t){return(e=function(i){var s=function(a,o){if(typeof a!="object"||a===null)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var r=n.call(a,"string");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(a)}(i);return typeof s=="symbol"?s:String(s)}(e))in h?Object.defineProperty(h,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):h[e]=t,h}let Q="",W="",F="",se=!1;class A{constructor(e,t){var i=this;if(m(this,"viewIndexes",[l.days,l.months,l.years]),m(this,"next",()=>{let{year:n,month:r}=this.parsedViewDate;switch(this.currentView){case l.days:this.setViewDate(new Date(n,r+1,1));break;case l.months:this.setViewDate(new Date(n+1,r,1));break;case l.years:this.setViewDate(new Date(n+10,0,1))}}),m(this,"prev",()=>{let{year:n,month:r}=this.parsedViewDate;switch(this.currentView){case l.days:this.setViewDate(new Date(n,r-1,1));break;case l.months:this.setViewDate(new Date(n-1,r,1));break;case l.years:this.setViewDate(new Date(n-10,0,1))}}),m(this,"_finishHide",()=>{this.hideAnimation=!1,this._destroyComponents(),this.$container.removeChild(this.$datepicker)}),m(this,"setPosition",function(n){let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(typeof(n=n||i.opts.position)=="function")return void(i.customHide=n({$datepicker:i.$datepicker,$target:i.$el,$pointer:i.$pointer,isViewChange:r,done:i._finishHide}));let d,c,{isMobile:u}=i.opts,D=i.$el.getBoundingClientRect(),p=i.$el.getBoundingClientRect(),g=i.$datepicker.offsetParent,C=i.$el.offsetParent,M=i.$datepicker.getBoundingClientRect(),q=n.split(" "),U=window.scrollY,Y=window.scrollX,R=i.opts.offset,ne=q[0],ve=q[1];if(u)i.$datepicker.style.cssText="left: 50%; top: 50%";else{if(g===C&&g!==document.body&&(p={top:i.$el.offsetTop,left:i.$el.offsetLeft,width:D.width,height:i.$el.offsetHeight},U=0,Y=0),g!==C&&g!==document.body){let re=g.getBoundingClientRect();p={top:D.top-re.top,left:D.left-re.left,width:D.width,height:D.height},U=0,Y=0}switch(ne){case"top":d=p.top-M.height-R;break;case"right":c=p.left+p.width+R;break;case"bottom":d=p.top+p.height+R;break;case"left":c=p.left-M.width-R}switch(ve){case"top":d=p.top;break;case"right":c=p.left+p.width-M.width;break;case"bottom":d=p.top+p.height-M.height;break;case"left":c=p.left;break;case"center":/left|right/.test(ne)?d=p.top+p.height/2-M.height/2:c=p.left+p.width/2-M.width/2}i.$datepicker.style.cssText=`left: ${c+Y}px; top: ${d+U}px`}}),m(this,"_setInputValue",()=>{let{opts:n,$altField:r,locale:{dateFormat:d}}=this,{altFieldDateFormat:c,altField:u}=n;u&&r&&(r.value=this._getInputValue(c)),this.$el.value=this._getInputValue(d)}),m(this,"_getInputValue",n=>{let{selectedDates:r,opts:d}=this,{multipleDates:c,multipleDatesSeparator:u,range:D}=d;if(!r.length)return"";let p=typeof n=="function",g=p?n(c||D?r:r[0]):r.map(C=>this.formatDate(C,n));return g=p?g:g.join(u),g}),m(this,"_checkIfDateIsSelected",function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.days,d=!1;return i.selectedDates.some(c=>{let u=y(n,c,r);return d=u&&c,u}),d}),m(this,"_checkIfDateIsAvailable",function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.days,d=!0;return Array.isArray(i.availableDates)&&i.availableDates.length&&(d=i.availableDates.some(c=>y(n,c,r))),d}),m(this,"_scheduleCallAfterTransition",n=>{this._cancelScheduledCall(),n&&n(!1),this._onTransitionEnd=()=>{n&&n(!0)},this.$datepicker.addEventListener("transitionend",this._onTransitionEnd,{once:!0})}),m(this,"_cancelScheduledCall",()=>{this.$datepicker.removeEventListener("transitionend",this._onTransitionEnd)}),m(this,"setViewDate",n=>{if(!((n=k(n))instanceof Date)||y(n,this.viewDate))return;let r=this.viewDate;this.viewDate=n;let{onChangeViewDate:d}=this.opts;if(d){let{month:c,year:u}=this.parsedViewDate;d({month:c,year:u,decade:this.curDecade})}this.trigger(l.eventChangeViewDate,n,r)}),m(this,"setFocusDate",function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(!n||(n=k(n))instanceof Date)&&(i.focusDate=n,i.opts.range&&n&&i._handleRangeOnFocus(),i.trigger(l.eventChangeFocusDate,n,r))}),m(this,"setCurrentView",n=>{if(this.viewIndexes.includes(n)){if(this.currentView=n,this.elIsInput&&this.visible&&this.setPosition(void 0,!0),this.trigger(l.eventChangeCurrentView,n),!this.views[n]){let r=this.views[n]=new te({dp:this,opts:this.opts,type:n});this.shouldUpdateDOM&&this.$content.appendChild(r.$el)}this.opts.onChangeView&&this.opts.onChangeView(n)}}),m(this,"_updateLastSelectedDate",n=>{this.lastSelectedDate=n,this.trigger(l.eventChangeLastSelectedDate,n)}),m(this,"destroy",()=>{let{showEvent:n,isMobile:r}=this.opts,d=this.$datepicker.parentNode;d&&d.removeChild(this.$datepicker),this.$el.removeEventListener(n,this._onFocus),this.$el.removeEventListener("blur",this._onBlur),window.removeEventListener("resize",this._onResize),r&&this._removeMobileAttributes(),this.keyboardNav&&this.keyboardNav.destroy(),this.views=null,this.nav=null,this.$datepicker=null,this.opts=null,this.$customContainer=null,this.viewDate=null,this.focusDate=null,this.selectedDates=null,this.rangeDateFrom=null,this.rangeDateTo=null}),m(this,"update",n=>{let r=z({},this.opts);z(this.opts,n);let{timepicker:d,buttons:c,range:u,selectedDates:D,isMobile:p}=this.opts,g=this.visible||this.treatAsInline;this._createMinMaxDates(),this._limitViewDateByMaxMinDates(),this._handleLocale(),!r.selectedDates&&D&&this.selectDate(D),n.view&&this.setCurrentView(n.view),this._setInputValue(),r.range&&!u?(this.rangeDateTo=!1,this.rangeDateFrom=!1):!r.range&&u&&this.selectedDates.length&&(this.rangeDateFrom=this.selectedDates[0],this.rangeDateTo=this.selectedDates[1]),r.timepicker&&!d?(g&&this.timepicker.destroy(),this.timepicker=!1,this.$timepicker.parentNode.removeChild(this.$timepicker)):!r.timepicker&&d&&this._addTimepicker(),!r.buttons&&c?this._addButtons():r.buttons&&!c?(this.buttons.destroy(),this.$buttons.parentNode.removeChild(this.$buttons)):g&&r.buttons&&c&&this.buttons.clearHtml().render(),!r.isMobile&&p?(this.treatAsInline||F||this._createMobileOverlay(),this._addMobileAttributes(),this.visible&&this._showMobileOverlay()):r.isMobile&&!p&&(this._removeMobileAttributes(),this.visible&&(F.classList.remove("-active-"),typeof this.opts.position!="function"&&this.setPosition())),this.opts.availableDates&&this._createAvailableDates(),g&&(this.nav.update(),this.views[this.currentView].render(),this.currentView===l.days&&this.views[this.currentView].renderDayNames())}),m(this,"isOtherMonth",n=>{let{month:r}=v(n);return r!==this.parsedViewDate.month}),m(this,"isOtherYear",n=>{let{year:r}=v(n);return r!==this.parsedViewDate.year}),m(this,"isOtherDecade",n=>{let{year:r}=v(n),[d,c]=x(this.viewDate);return r<d||r>c}),m(this,"_onChangeSelectedDate",n=>{let{silent:r}=n;setTimeout(()=>{this._setInputValue(),this.opts.onSelect&&!r&&this._triggerOnSelect()})}),m(this,"_onChangeFocusedDate",function(n){let{viewDateTransition:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!n)return;let d=!1;r&&(d=i.isOtherMonth(n)||i.isOtherYear(n)||i.isOtherDecade(n)),d&&i.setViewDate(n)}),m(this,"_onChangeTime",n=>{let{hours:r,minutes:d}=n,c=new Date,{lastSelectedDate:u,opts:{onSelect:D}}=this,p=u;u||(p=c);let g=this.getCell(p,this.currentViewSingular),C=g&&g.adpCell;C&&C.isDisabled||(p.setHours(r),p.setMinutes(d),u?(this._setInputValue(),D&&this._triggerOnSelect()):this.selectDate(p))}),m(this,"_onFocus",n=>{this.visible||this.show()}),m(this,"_onBlur",n=>{this.inFocus||!this.visible||this.opts.isMobile||this.hide()}),m(this,"_onMouseDown",n=>{this.inFocus=!0}),m(this,"_onMouseUp",n=>{this.inFocus=!1,this.$el.focus()}),m(this,"_onResize",()=>{this.visible&&typeof this.opts.position!="function"&&this.setPosition()}),m(this,"_onClickOverlay",()=>{this.visible&&this.hide()}),m(this,"isWeekend",n=>this.opts.weekends.includes(n)),m(this,"getClampedDate",n=>{let{minDate:r,maxDate:d}=this,c=n;return d&&T(n,d)?c=d:r&&P(n,r)&&(c=r),c}),this.$el=f(e),!this.$el)return;const s=(()=>{let n="";for(let r=0;r<20;r++)n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random()));return n})();this.$datepicker=b({className:"air-datepicker",id:s,attrs:{role:"application"}}),this.opts=z({},N,t),this.$customContainer=!!this.opts.container&&f(this.opts.container),this.$altField=f(this.opts.altField||!1),Q||(Q=f("body"));let{view:a,startDate:o}=this.opts;o||(this.opts.startDate=new Date),this.$el.nodeName==="INPUT"&&(this.elIsInput=!0),this.elIsInput&&this.$el.setAttribute("aria-owns",s),this.inited=!1,this.visible=!1,this.viewDate=k(this.opts.startDate),this.focusDate=!1,this.initialReadonly=this.$el.getAttribute("readonly"),this.customHide=!1,this.currentView=a,this.selectedDates=[],this.views={},this.keys=[],this.rangeDateFrom="",this.rangeDateTo="",this.timepickerIsActive=!1,this.treatAsInline=this.opts.inline||!this.elIsInput,this.init()}init(){let{opts:e,treatAsInline:t,opts:{inline:i,isMobile:s,selectedDates:a,keyboardNav:o,onlyTimepicker:n}}=this;var r;se||i||!this.elIsInput||(se=!0,W=b({className:r=A.defaultContainerId,id:r}),Q.appendChild(W)),!s||F||t||this._createMobileOverlay(),this._handleLocale(),this._bindSubEvents(),this._createMinMaxDates(),this._createAvailableDates(),this._limitViewDateByMaxMinDates(),this.elIsInput&&(i||this._bindEvents(),o&&!n&&(this.keyboardNav=new me({dp:this,opts:e}))),a&&this.selectDate(a,{silent:!0}),this.opts.visible&&!t&&this.show(),s&&!t&&this.$el.setAttribute("readonly",!0),t&&this._createComponents()}_createMobileOverlay(){F=b({className:"air-datepicker-overlay"}),W.appendChild(F)}_createComponents(){let{opts:e,treatAsInline:t,opts:{inline:i,buttons:s,timepicker:a,position:o,classes:n,onlyTimepicker:r,isMobile:d}}=this;this._buildBaseHtml(),this.elIsInput&&(i||this._setPositionClasses(o)),!i&&this.elIsInput||this.$datepicker.classList.add("-inline-"),n&&this.$datepicker.classList.add(...n.split(" ")),r&&this.$datepicker.classList.add("-only-timepicker-"),d&&!t&&this._addMobileAttributes(),this.views[this.currentView]=new te({dp:this,type:this.currentView,opts:e}),this.nav=new ce({dp:this,opts:e}),a&&this._addTimepicker(),s&&this._addButtons(),this.$content.appendChild(this.views[this.currentView].$el),this.$nav.appendChild(this.nav.$el)}_destroyComponents(){for(let e in this.views)this.views[e].destroy();this.views={},this.nav.destroy(),this.timepicker&&this.timepicker.destroy()}_addMobileAttributes(){F.addEventListener("click",this._onClickOverlay),this.$datepicker.classList.add("-is-mobile-"),this.$el.setAttribute("readonly",!0)}_removeMobileAttributes(){F.removeEventListener("click",this._onClickOverlay),this.$datepicker.classList.remove("-is-mobile-"),this.initialReadonly||this.initialReadonly===""||this.$el.removeAttribute("readonly")}_createMinMaxDates(){let{minDate:e,maxDate:t}=this.opts;this.minDate=!!e&&k(e),this.maxDate=!!t&&k(t)}_createAvailableDates(){let{availableDates:e}=this.opts,t=[];Array.isArray(e)&&e.forEach(i=>{let s=k(i);s&&t.push(s)}),this.availableDates=t}_addTimepicker(){this.$timepicker=b({className:"air-datepicker--time"}),this.$datepicker.appendChild(this.$timepicker),this.timepicker=new pe({dp:this,opts:this.opts}),this.$timepicker.appendChild(this.timepicker.$el)}_addButtons(){this.$buttons=b({className:"air-datepicker--buttons"}),this.$datepicker.appendChild(this.$buttons),this.buttons=new ue({dp:this,opts:this.opts}),this.$buttons.appendChild(this.buttons.$el)}_bindSubEvents(){this.on(l.eventChangeSelectedDate,this._onChangeSelectedDate),this.on(l.eventChangeFocusDate,this._onChangeFocusedDate),this.on(l.eventChangeTime,this._onChangeTime)}_buildBaseHtml(){let{inline:e}=this.opts;var t,i;this.elIsInput?e?(t=this.$datepicker,(i=this.$el).parentNode.insertBefore(t,i.nextSibling)):this.$container.appendChild(this.$datepicker):this.$el.appendChild(this.$datepicker),this.$datepicker.innerHTML='<i class="air-datepicker--pointer"></i><div class="air-datepicker--navigation"></div><div class="air-datepicker--content"></div>',this.$content=f(".air-datepicker--content",this.$datepicker),this.$pointer=f(".air-datepicker--pointer",this.$datepicker),this.$nav=f(".air-datepicker--navigation",this.$datepicker)}_handleLocale(){let{locale:e,dateFormat:t,firstDay:i,timepicker:s,onlyTimepicker:a,timeFormat:o,dateTimeSeparator:n}=this.opts;var r;this.locale=(r=e,JSON.parse(JSON.stringify(r))),t&&(this.locale.dateFormat=t),o!==void 0&&o!==""&&(this.locale.timeFormat=o);let{timeFormat:d}=this.locale;if(i!==""&&(this.locale.firstDay=i),s&&typeof t!="function"){let c=d?n:"";this.locale.dateFormat=[this.locale.dateFormat,d||""].join(c)}a&&(this.locale.dateFormat=this.locale.timeFormat)}_setPositionClasses(e){if(typeof e=="function")return void this.$datepicker.classList.add("-custom-position-");let t=(e=e.split(" "))[0],i=`air-datepicker -${t}-${e[1]}- -from-${t}-`;this.$datepicker.classList.add(...i.split(" "))}_bindEvents(){this.$el.addEventListener(this.opts.showEvent,this._onFocus),this.$el.addEventListener("blur",this._onBlur),this.$datepicker.addEventListener("mousedown",this._onMouseDown),this.$datepicker.addEventListener("mouseup",this._onMouseUp),window.addEventListener("resize",this._onResize)}_limitViewDateByMaxMinDates(){let{viewDate:e,minDate:t,maxDate:i}=this;i&&T(e,i)&&this.setViewDate(i),t&&P(e,t)&&this.setViewDate(t)}formatDate(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.viewDate,t=arguments.length>1?arguments[1]:void 0;if(e=k(e),!(e instanceof Date))return;let i=t,s=this.locale,a=v(e),o=x(e),n=A.replacer,r="am";this.opts.timepicker&&this.timepicker&&(r=this.timepicker.getDayPeriod(e).dayPeriod);let d={T:e.getTime(),m:a.minutes,mm:a.fullMinutes,h:a.hours12,hh:a.fullHours12,H:a.hours,HH:a.fullHours,aa:r,AA:r.toUpperCase(),E:s.daysShort[a.day],EEEE:s.days[a.day],d:a.date,dd:a.fullDate,M:a.month+1,MM:a.fullMonth,MMM:s.monthsShort[a.month],MMMM:s.months[a.month],yy:a.year.toString().slice(-2),yyyy:a.year,yyyy1:o[0],yyyy2:o[1]};for(let[c,u]of Object.entries(d))i=n(i,X(c),u);return i}down(e){this._handleUpDownActions(e,"down")}up(e){this._handleUpDownActions(e,"up")}selectDate(e){let t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{currentView:s,parsedViewDate:a,selectedDates:o}=this,{updateTime:n}=i,{moveToOtherMonthsOnSelect:r,moveToOtherYearsOnSelect:d,multipleDates:c,range:u,autoClose:D}=this.opts,p=o.length;if(Array.isArray(e))return e.forEach(g=>{this.selectDate(g,i)}),new Promise(g=>{setTimeout(g)});if((e=k(e))instanceof Date){if(s===l.days&&e.getMonth()!==a.month&&r&&(t=new Date(e.getFullYear(),e.getMonth(),1)),s===l.years&&e.getFullYear()!==a.year&&d&&(t=new Date(e.getFullYear(),0,1)),t&&this.setViewDate(t),c&&!u){if(p===c)return;this._checkIfDateIsSelected(e)||o.push(e)}else if(u)switch(p){case 1:o.push(e),this.rangeDateTo||(this.rangeDateTo=e),T(this.rangeDateFrom,this.rangeDateTo)&&(this.rangeDateTo=this.rangeDateFrom,this.rangeDateFrom=e),this.selectedDates=[this.rangeDateFrom,this.rangeDateTo];break;case 2:this.selectedDates=[e],this.rangeDateFrom=e,this.rangeDateTo="";break;default:this.selectedDates=[e],this.rangeDateFrom=e}else this.selectedDates=[e];return this.trigger(l.eventChangeSelectedDate,{action:l.actionSelectDate,silent:i==null?void 0:i.silent,date:e,updateTime:n}),this._updateLastSelectedDate(e),D&&!this.timepickerIsActive&&this.visible&&(c||u?u&&p===1&&this.hide():this.hide()),new Promise(g=>{setTimeout(g)})}}unselectDate(e){let t=this.selectedDates,i=this;if((e=k(e))instanceof Date)return t.some((s,a)=>{if(y(s,e))return t.splice(a,1),i.selectedDates.length?i._updateLastSelectedDate(i.selectedDates[i.selectedDates.length-1]):(i.rangeDateFrom="",i.rangeDateTo="",i._updateLastSelectedDate(!1)),this.trigger(l.eventChangeSelectedDate,{action:l.actionUnselectDate,date:e}),!0})}replaceDate(e,t){let i=this.selectedDates.find(a=>y(a,e,this.currentView)),s=this.selectedDates.indexOf(i);s<0||y(this.selectedDates[s],t,this.currentView)||(this.selectedDates[s]=t,this.trigger(l.eventChangeSelectedDate,{action:l.actionSelectDate,date:t,updateTime:!0}),this._updateLastSelectedDate(t))}clear(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this.selectedDates=[],this.rangeDateFrom=!1,this.rangeDateTo=!1,this.trigger(l.eventChangeSelectedDate,{action:l.actionUnselectDate,silent:e.silent}),new Promise(t=>{setTimeout(t)})}show(){let{onShow:e,isMobile:t}=this.opts;this._cancelScheduledCall(),this.visible||this.hideAnimation||this._createComponents(),this.setPosition(this.opts.position),this.$datepicker.classList.add("-active-"),this.visible=!0,e&&this._scheduleCallAfterTransition(e),t&&this._showMobileOverlay()}hide(){let{onHide:e,isMobile:t}=this.opts,i=this._hasTransition();this.visible=!1,this.hideAnimation=!0,this.$datepicker.classList.remove("-active-"),this.customHide&&this.customHide(),this.elIsInput&&this.$el.blur(),this._scheduleCallAfterTransition(s=>{!this.customHide&&(s&&i||!s&&!i)&&this._finishHide(),e&&e(s)}),t&&F.classList.remove("-active-")}_triggerOnSelect(){let e=[],t=[],{selectedDates:i,locale:s,opts:{onSelect:a,multipleDates:o,range:n}}=this,r=o||n,d=typeof s.dateFormat=="function";i.length&&(e=i.map(G),t=d?o?s.dateFormat(e):e.map(c=>s.dateFormat(c)):e.map(c=>this.formatDate(c,s.dateFormat))),a({date:r?e:e[0],formattedDate:r?t:t[0],datepicker:this})}_handleAlreadySelectedDates(e,t){let{range:i,toggleSelected:s}=this.opts;i?s?this.unselectDate(t):this.selectedDates.length!==2&&this.selectDate(t):s&&this.unselectDate(t),s||this._updateLastSelectedDate(e)}_handleUpDownActions(e,t){if(!((e=k(e||this.focusDate||this.viewDate))instanceof Date))return;let i=t==="up"?this.viewIndex+1:this.viewIndex-1;i>2&&(i=2),i<0&&(i=0),this.setViewDate(new Date(e.getFullYear(),e.getMonth(),1)),this.setCurrentView(this.viewIndexes[i])}_handleRangeOnFocus(){this.selectedDates.length===1&&(T(this.selectedDates[0],this.focusDate)?(this.rangeDateTo=this.selectedDates[0],this.rangeDateFrom=this.focusDate):(this.rangeDateTo=this.focusDate,this.rangeDateFrom=this.selectedDates[0]))}getCell(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l.day;if(!((e=k(e))instanceof Date))return;let{year:i,month:s,date:a}=v(e),o=`[data-year="${i}"]`,n=`[data-month="${s}"]`,r={[l.day]:`${o}${n}[data-date="${a}"]`,[l.month]:`${o}${n}`,[l.year]:`${o}`};return this.views[this.currentView].$el.querySelector(r[t])}_showMobileOverlay(){F.classList.add("-active-")}_hasTransition(){return window.getComputedStyle(this.$datepicker).getPropertyValue("transition-duration").split(", ").reduce((e,t)=>parseFloat(t)+e,0)>0}get shouldUpdateDOM(){return this.visible||this.treatAsInline}get parsedViewDate(){return v(this.viewDate)}get currentViewSingular(){return this.currentView.slice(0,-1)}get curDecade(){return x(this.viewDate)}get viewIndex(){return this.viewIndexes.indexOf(this.currentView)}get isFinalView(){return this.currentView===l.years}get hasSelectedDates(){return this.selectedDates.length>0}get isMinViewReached(){return this.currentView===this.opts.minView||this.currentView===l.days}get $container(){return this.$customContainer||W}static replacer(e,t,i){return e.replace(t,function(s,a,o,n){return a+i+n})}}var ae;return m(A,"defaults",N),m(A,"version","3.2.0"),m(A,"defaultContainerId","air-datepicker-global-container"),ae=A.prototype,Object.assign(ae,ge),_.default}()})})(he);var oe=he.exports;const we=De(oe),ke=fe({__proto__:null,default:we},[oe]);export{ke as a};
