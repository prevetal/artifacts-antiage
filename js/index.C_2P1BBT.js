const N=t=>t===void 0||t==="auto"||t==="instant"||t==="smooth";function ot(t,o){this.scrollLeft=t,this.scrollTop=o}const U=(t,o,e="cannot convert to dictionary.")=>`Failed to execute '${t}' on '${o}': ${e}`,q=(t,o,e)=>U(t,o,`The provided value '${e}' is not a valid enum value of type ScrollBehavior.`),v=(t,o,e)=>{var r;const n=`__SEAMLESS.BACKUP$${o}`;return!t[n]&&t[o]&&!(!((r=t[o])===null||r===void 0)&&r.__isPolyfill)&&(t[n]=t[o]),t[n]||e},G=t=>{const o=typeof t;return t!==null&&(o==="object"||o==="function")},_=t=>"scrollBehavior"in window.document.documentElement.style&&(t==null?void 0:t.forcePolyfill)!==!0,K=t=>{Object.defineProperty(t,"__isPolyfill",{value:!0})},g=(t,o)=>{K(o),[HTMLElement.prototype,SVGElement.prototype,Element.prototype].forEach(e=>{v(e,t),e[t]=o})},k=t=>t.ownerDocument.scrollingElement||t.ownerDocument.documentElement;function et(t){if(typeof Event=="function")return new Event("scrollend",{bubbles:t,cancelable:!1});const o=document.createEvent("Event");return o.initEvent("scrollend",t,!1),o}const nt=t=>.5*(1-Math.cos(Math.PI*t));function D(){var t;let o;return!((t=window.performance)===null||t===void 0)&&t.now?o=()=>window.performance.now():o=()=>window.Date.now(),D=o,o()}const rt=500,J=t=>{const e=(D()-t.timeStamp)/(t.duration||rt);if(e>1){t.method(t.targetX,t.targetY),t.callback();return}const r=(t.timingFunc||nt)(e),n=t.startX+(t.targetX-t.startX)*r,l=t.startY+(t.targetY-t.startY)*r;t.method(n,l),t.rafId=window.requestAnimationFrame(()=>{J(t)})},b=t=>isFinite(t)?Number(t):0,lt=t=>{var o;return(o=t.isConnected)!==null&&o!==void 0?o:!t.ownerDocument||!(t.ownerDocument.compareDocumentPosition(t)&1)},ct=(t,o,e)=>{var r,n;if(!lt(t))return;const l=t.scrollLeft,i=t.scrollTop,u=b((r=o.left)!==null&&r!==void 0?r:l),s=b((n=o.top)!==null&&n!==void 0?n:i);if(u===l&&s===i)return;const h=v(HTMLElement.prototype,"scroll",ot),a=v(Object.getPrototypeOf(t),"scroll",h).bind(t);if(o.behavior!=="smooth"){a(u,s);return}const d=()=>{window.removeEventListener("wheel",c),window.removeEventListener("touchmove",c)},f=()=>{d();const m=t.nodeType===9;t.dispatchEvent(et(m))},w=Object.assign(Object.assign({},e),{timeStamp:D(),startX:l,startY:i,targetX:u,targetY:s,rafId:0,method:a,callback:f}),c=()=>{window.cancelAnimationFrame(w.rafId),d()};window.addEventListener("wheel",c,{passive:!0,once:!0}),window.addEventListener("touchmove",c,{passive:!0,once:!0}),J(w)},it=t=>t.window===t,W=t=>(o,e,r)=>{const[n,l]=it(o)?[k(o.document.documentElement),"Window"]:[o,"Element"],i=e??{};if(!G(i))throw new TypeError(U(t,l));if(!N(i.behavior))throw new TypeError(q(t,l,i.behavior));t==="scrollBy"&&(i.left=b(i.left)+n.scrollLeft,i.top=b(i.top)+n.scrollTop),ct(n,i,r)},X=W("scroll"),H=W("scrollTo"),Y=W("scrollBy"),st=X,Lt=H,Bt=Y,Mt=X,It=H,_t=Y,Q=t=>{switch(t){case"horizontal-tb":case"lr":case"lr-tb":case"rl":case"rl-tb":return 0;case"vertical-rl":case"tb":case"tb-rl":return 1;case"vertical-lr":case"tb-lr":return 2;case"sideways-rl":return 3;case"sideways-lr":return 4}return 0},Z=(t,o,e,r)=>{let n=0;switch(o||(n^=2),t){case 0:n=n>>1|(n&1)<<1,[e,r]=[r,e];break;case 1:case 3:n^=1;break;case 4:n^=2;break}return[n,e,r]},at=t=>(Z(Q(t.writingMode),t.direction!=="rtl",void 0,void 0)[0]&1)===1,ut=(t,o,e)=>{const[r,n,l]=Z(o,e,t.block||"start",t.inline||"nearest");return[n,l].map((i,u)=>{switch(i){case"center":return 1;case"nearest":return 0;default:{const s=r>>u&1;return i==="start"==!s?2:3}}})},O=(t,o,e,r,n,l,i)=>t!==0?t:n<o&&l>e||n>o&&l<e?null:n<=o&&i<=r||l>=e&&i>=r?2:l>e&&i<r||n<o&&i>r?3:null,R=t=>t!=="visible"&&t!=="clip",dt=t=>{var o;try{return((o=t.ownerDocument.defaultView)===null||o===void 0?void 0:o.frameElement)||null}catch{return null}},wt=(t,o)=>t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth?R(o.overflowY)||R(o.overflowX)||t===k(t):!1,j=t=>{const o=t.parentNode,e=t.parentElement;if(e===null&&o!==null){if(o.nodeType===11)return o.host;if(o.nodeType===9)return dt(t)}return e},I=(t,o,e)=>t<o?o:t>e?e:t,ft=t=>["scroll-margin","scroll-snap-margin"].filter(o=>o in t.documentElement.style)[0],ht=(t,o,e)=>{const{top:r,right:n,bottom:l,left:i}=o,u=ft(t.ownerDocument);if(!u)return[r,n,l,i];const s=h=>{const a=e.getPropertyValue(`${u}-${h}`);return parseInt(a,10)||0};return[r-s("top"),n+s("right"),l+s("bottom"),i-s("left")]},y=(t,o,e)=>{switch(t){case 1:return(o+e)/2;case 3:return e;case 2:case 0:return o}},pt=(t,o)=>{var e,r,n;const l=(e=t.ownerDocument.defaultView)===null||e===void 0?void 0:e.visualViewport,[i,u,s,h]=t===k(t)?[0,0,(r=l==null?void 0:l.width)!==null&&r!==void 0?r:t.clientWidth,(n=l==null?void 0:l.height)!==null&&n!==void 0?n:t.clientHeight]:[o.left,o.top,t.clientWidth,t.clientHeight],a=i+t.clientLeft,d=u+t.clientTop,f=a+s,w=d+h;return[d,f,w,a]},mt=(t,o)=>{const e=[];let r=t.ownerDocument,n=r.defaultView;if(!n)return e;const l=window.getComputedStyle(t),i=l.direction!=="rtl",u=Q(l.writingMode||l.getPropertyValue("-webkit-writing-mode")||l.getPropertyValue("-ms-writing-mode")),[s,h]=ut(o,u,i);let[a,d,f,w]=ht(t,t.getBoundingClientRect(),l);for(let c=j(t);c!==null;c=j(c)){if(r!==c.ownerDocument){if(r=c.ownerDocument,n=r.defaultView,!n)break;const{left:C,top:$}=c.getBoundingClientRect();a+=$,d+=C,f+=$,w+=C}const m=n.getComputedStyle(c);if(m.position==="fixed")break;if(!wt(c,m))continue;const x=c.getBoundingClientRect(),[T,E,V,P]=pt(c,x),S=O(s,P,E,c.clientWidth,w,d,d-w),L=O(h,T,V,c.clientHeight,a,f,f-a),F=S===null?0:y(S,w,d)-y(S,P,E),tt=L===null?0:y(L,a,f)-y(L,T,V),B=at(m)?I(F,-c.scrollWidth+c.clientWidth-c.scrollLeft,-c.scrollLeft):I(F,-c.scrollLeft,c.scrollWidth-c.clientWidth-c.scrollLeft),M=I(tt,-c.scrollTop,c.scrollHeight-c.clientHeight-c.scrollTop);e.push([c,{left:c.scrollLeft+B,top:c.scrollTop+M,behavior:o.behavior}]),a=Math.max(a-M,T),d=Math.min(d-B,E),f=Math.min(f-M,V),w=Math.max(w-B,P)}return e},vt=(t,o,e)=>{const r=o||{};if(!N(r.behavior))throw new TypeError(q("scrollIntoView","Element",r.behavior));mt(t,r).forEach(([l,i])=>{st(l,i,e)})},z=vt,p=(t,o)=>e=>{if(_(e))return;const r={scroll:X,scrollTo:H,scrollBy:Y}[t];o(t,function(){const n=arguments;if(arguments.length===1){r(this,n[0],e);return}const l=n[0],i=n[1];r(this,{left:l,top:i})})},yt=p("scroll",g),bt=p("scrollTo",g),gt=p("scrollBy",g),A=(t,o)=>{K(o),v(window,t),window[t]=o},Tt=p("scroll",A),Et=p("scrollTo",A),Vt=p("scrollBy",A);function Pt(t){z(this,{block:t??!0?"start":"end",inline:"nearest"})}const St=t=>{if(_(t))return;const o=v(window.HTMLElement.prototype,"scrollIntoView",Pt);g("scrollIntoView",function(){const r=arguments,n=r[0];if(r.length===1&&G(n)){z(this,n,t);return}o.apply(this,r)})},kt=t=>{_(t)||(yt(t),bt(t),gt(t),St(t),Tt(t),Et(t),Vt(t))};export{st as elementScroll,Bt as elementScrollBy,gt as elementScrollByPolyfill,z as elementScrollIntoView,St as elementScrollIntoViewPolyfill,yt as elementScrollPolyfill,Lt as elementScrollTo,bt as elementScrollToPolyfill,kt as polyfill,X as scroll,Y as scrollBy,vt as scrollIntoView,H as scrollTo,Mt as windowScroll,_t as windowScrollBy,Vt as windowScrollByPolyfill,Tt as windowScrollPolyfill,It as windowScrollTo,Et as windowScrollToPolyfill};
